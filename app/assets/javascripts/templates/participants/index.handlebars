<div class="page-header">
  <div class="pull-right">
    <form class="form-horizontal" {{action search on="submit"}}>
      <div class="input-append">
        {{input value=query type=text class="span2" type="text"}}
        <button class="btn" type="button" {{bindAttr disabled="cannotSearch"}} {{action search}}>
          <i class="icon-search"></i> Search
        </button>
      </div>
      {{#linkTo 'participants.new' class="btn btn-success"}}New Participant{{/linkTo}}
    </form>
  </div>
  <h3>Participants</h3>
</div>

{{#unless content.isLoaded}}
  <div class="alert alert-info">
    Loading participants, please wait...
  </div>
{{else}}

  {{#if hasSearchResults}}
    {{#unless searchResults.length}}
      <div class="alert alert-info">
        There were no participants that matched '{{query}}'.
      </div>
    {{else}}
      {{render participants/table searchResults}}
    {{/unless}}
  {{/if}}

  {{#unless hasSearchResults}}
    {{#unless controller.length}}
      <div class="alert alert-info">
        There are currently no participants, would you like to
        {{#linkTo 'participants.new'}}add one now{{/linkTo}}?
      </div>
    {{else}}
      {{render participants/table controller}}
    {{/unless}}
  {{/unless}}

{{/unless}}