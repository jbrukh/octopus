<div class="page-header">
  <div class="pull-right">
    <button class="btn btn-info" {{action edit}}>Edit</button>
  </div>

  <h3>Recording <small>{{description}}</small></h3>
</div>

{{#if isEditing}}
  {{#view App.ModalView tagName="form"}}
    <div class="modal-header">
      <button type="button" class="close" aria-hidden="true" {{action cancelEdit}}>&times;</button>
      <h3>Edit Recording</h3>
    </div>
    <div class="modal-body">
      <div class="control-group">
        <label class="control-label">Description</label>
        <div class="controls">
          {{view Ember.TextArea valueBinding=newDescription class="textarea-modal-full"}}
        </div>
      </div>

    </div>
    <div class="modal-footer">
      <a href="#" class="btn" {{action cancelEdit}}>Close</a>
      <a href="#" class="btn btn-primary" {{action saveEdit}}>Save changes</a>
    </div>
  {{/view}}
{{/if}}

{{#unless result.isLoaded}}
  <div class="alert alert-info">
    Loading results, please wait...
  </div>
{{else}}

  {{#if result.data.isLoaded}}
    {{view App.ResultDataGraphView resultDataBinding=result.data tagBinding=tag}}
  {{/if}}

  {{#if tag.extent}}
    <div class="well">
      <form class="form-horizontal">
        <fieldset>
          <legend>Tag {{tag.from}} - {{tag.to}}</legend>
          <div class="control-group">
            <label class="control-label">Tag Name</label>
            <div class="controls">
              {{input value=tag.name type=text}}
            </div>
          </div>
        </fieldset>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary" {{action createTag}}>Create Tag</button>
        </div>
      </form>
    </div>
  {{/if}}

  <table class="table table-condensed">
    <thead>
      <tr>
        <th colspan="2">Properties</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Name</td>
        <td>{{result.data_file_name}}</td>
      </tr>
      <tr>
        <td>Size</td>
        <td>{{result.data_file_size}}</td>
      </tr>

      {{#if result.data.isLoaded}}
        <tr>
          <td>data type</td>
          <td>{{result.data.dataType}}
        </tr>
        <tr>
          <td>format version</td>
          <td>{{result.data.formatVersion}}
        </tr>
        <tr>
          <td>storage mode</td>
          <td>{{result.data.storageMode}}
        </tr>
        <tr>
          <td>channels</td>
          <td>{{result.data.channels}}
        </tr>
        <tr>
          <td>samples</td>
          <td>{{result.data.samples}}
        </tr>
        <tr>
          <td>sample rate</td>
          <td>{{result.data.sampleRate}}
        </tr>
      {{/if}}

    </tbody>
  </table>
{{/unless}}
