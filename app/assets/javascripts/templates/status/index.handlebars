<div class="page-header">
  <div class="pull-right">
    {{#unless connector.isConnected}}
      <a class="btn btn-success" {{action connect}}>Reconnect</a>
    {{/unless}}
  </div>

  <h2>Octopus Connector</h2>
</div>

{{#unless connector.isConnected}}
  <div class="alert alert-error">
    <strong>Could not find connector.</strong>
    Have you started the connector? Once it's running this message will go away.
  </div>
{{else}}
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Connector Information</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Status</td>
        <td>
             {{#unless connector.isConnected}}
                <span class="label label-warning">{{connector.state}}</span>
             {{else}}
                <span class="label label-success">{{connector.state}}</span>
             {{/unless}}
        </td>
      </tr>
      <tr>
        <td>Device Name</td>
        <td>{{connector.device_name}}</td>
      </tr>
      <tr>
        <td>Connector Version</td>
        <td>{{connector.version}}</td>
      </tr>
    </tbody>
  </table>

  {{#unless connector.resources.length}}
    <div class="alert alert-notice">
      There are no recordings in the repository.
    </div>
  {{else}}
    <table class="table table-condensed table-striped">
      <thead>
        <tr>
          <th colspan="2">There are {{connector.resources.length}} recordings in the repository.</th>
          <th colspan="2">
            <div class="pull-right">
              <a href="#" class="btn btn-mini btn-danger" {{action clear}}>Clear Repository</a>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        {{#each connector.resources}}
          <tr>
            <td>{{resource_id}}</td>
            <td>{{file}}</td>
            <td>{{last_modified}}</td>
            <td>{{size_bytes}}</td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  {{/unless}}
{{/unless}}