{{partial 'recordings/header'}}

{{#unless connector.isConnected}}
  <div class="alert alert-warning">
    You cannot view local recordings unless the connector is running.
  </div>
{{else}}
  {{#unless controller.length}}
    <div class="alert alert-info">
      There are no recordings.
    </div>
  {{else}}
    <table class="table table-striped table-hover table-list">
      <thead>
        <tr>
          <th>Created At</th>
          <th>File</th>
          <th>Size</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {{#each controller}}
          {{#linkTo 'recording.local' this tagName='tr' class='clickable'}}
            <td>
              <small>{{timeSince lastModified}}</small>
            </td>
            <td>{{file}}</td>
            <td>{{sizeBytes}}</td>
            <td>
              <div class="pull-right">
                <a href="#" class="btn btn-table btn-success">
                  <i class="icon-cloud-upload"></i>
                </a>
                <a href="#" class="btn btn-table btn-danger" {{action destroy this}}>
                  <i class="icon-trash"></i>
                </a>
              </div>
            </td>
          {{/linkTo}}
        {{/each}}
      </tbody>
    </table>
  {{/unless}}
{{/unless}}